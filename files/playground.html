<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TTS Playground</title>
    <style type="text/css">
      #result-audio {
        display: none;
      }
    </style>
  </head>
  <body>
    <textarea maxlength="1024" id="input-text">aeiou</textarea>
    <button id="input-submit">Play</button>
    <audio id="result-audio" src="/tts?text=aeiou">
      Your browser does not support the HTML5 audio element.
    </audio>
    <script type="text/javascript">
      var lastText = null;
      document.getElementById("input-submit").onclick = function () {
        var text = document.getElementById("input-text").value;
        var audio = document.getElementById("result-audio");
        if (text !== lastText) {
          audio.src = "/tts?text=" + encodeURIComponent(text);
          lastText = text;
        }

        audio.play();
      };
    </script>
  </body>
</html>
